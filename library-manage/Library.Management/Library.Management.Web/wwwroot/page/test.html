<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="../css/base/common.css" rel="stylesheet" />
    <title>Document</title>
</head>

<body>
    <div id="tableContent"></div>
    <table id="tableProduct">
        <!-- <tr>
            <th>Id</th>
            <th>Product name</th>
        </tr> -->
    </table>

    <!--Loading-->
    <div class="loader">
        <span class="animation icon"></span>
        <div class="text-loading">Loading...</div>
    </div>

    <div class="toastMsg">
        <span class="toastMsg-img-success"></span> Thành công
        <div class="toastMsg-text"></div>
    </div>

    <div class="toastMsgFailed">
        <span class="toastMsgFailed-img"></span> Thất bại
        <div class="toastMsgFailed-text"></div>
    </div>

    <script src="../js/base/commonBase.js"></script>
    <script src="../js/lib/jquery/jquery.min.js"></script>
    <script src="../js/lib/bootstrap/bootstrap.bundle.min.js"></script>
    <script src="../js/lib/pagination.min.js"></script>
    <script>
        $(document).ready(function () {
            loadData()
        })

        function loadData() {
            $.ajax({
                method: "GET",
                url: "http://127.0.0.1:2020/api/products/all",
                async: true,
                contentType: "application/json",
                beforeSend: function () {
                    $('#tableContent').html('Loading data...');
                }
            }).done(function (res) {
                if (res) {
                    $('body').pagination({
                        dataSource: res,

                        //item in one page
                        pageSize: 6,

                        callback: function (res, pagination) {

                            var table = $(`<table></table>`)

                            $.each(res, (index, object) => {
                                console.log(index)
                                var tr = $(`<tr></tr>`)
                                var td = $(`<td>` + object.id + `</td><td>` + object.vietnameseName + `</td>`)
                                tr.append(td)
                                table.append(tr)
                            })
                            $('#tableContent').html(table)
                        },


                    })
                }
            }).fail((res) => {

            })

        }
    </script>
</body>

</html>